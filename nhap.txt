- Xong vẽ hình bằng web
- lưu file config rồi mở lại file config đó

-CHƯA ĐEM WEB QUA FOLDER KHÁC ĐƯỢC

- Xử lí phần chữ

- KHI RELOAD LAI ESP CŨNG RESET LẠI WEB (done)

- KHI VẼ XONG HÌNH TRÊN LED PANEL MỚI GỬI CHO WEB ĐỂ VẼ HÌNH, NẾU KHÔNG SẼ VẼ SAI, CÁI KHÔNG CÓ TRONG TIN NHẮN NHƯNG ĐÃ ĐƯỢC LƯU TRONG FILE NÊN VẪN VẼ (done)

- Nên đặt 1 hàm chung là draw_MSG()
    -> Trong hàm sẽ có phân tách tin nhắn doc
    -> sau đó gửi đi cho vẽ Shape
    -> sau đó vẽ text

-Đã viết chữ ổn
- tô màu 
    + Thêm 1 nút chọn màu cho cả phần shape và phần text
    + cập nhật thêm phần tin nhắn gửi đi

    [[{"type":1,"data":[12,12,20,20],"color":"#8a5151ff"}],[[{"xy":[1,1],"id":1,"color":"#2bee41"},{"xy":[20,20],"id":2,"color":"#d5d908"}]]]
    [[{"type":1,"data":[0,0,64,32],"color":"#8a5151ff"}]]


viet 1 ham mapping vao cái textContent


lưu data
-
[
    {
        "data": "noidung1",
        "info": [shapeIndex,row]
    }
    {
        "data": "noidung2",
        "info": [shapeIndex,row]
    }
    {
        "data": "noidung3",
        "info": [shapeIndex,row]
    }

]

-TRONG FILE CONFIG CẤU HÌNH CẢ WIFI NỮA

- Tối ưu hơn việc truyền data
    + data truyền vào có định dạng json trên
    + mô phỏng ledPanel

-Thay font ở D:\hoc tap_2\thuctap\led_matrix_0703\LED_Matrix\lib\Adafruit-GFX-Library\Fonts
-> ở trong folder Font của adaFruitGFX
-> để thay vd: 
#include <Fonts/FreeSans9pt7b.h> // đầu file

display.setFont(&FreeSans9pt7b); trong hàm


- Map data thì trước khi map phải xóa hết data

- Data cũng đưa vào 1 mảng rồi gửi hết 1 lần khi web gửi

[[],[]]

[[{"type":1,"data":[0,0,0,0]}]]

{
  "pages": 
  [
    [
      [
        {"type":1,"data":[0,0,32,16],"color":"#e411acff"},
        {"type":1,"data":[32,0,32,16],"color":"#fbfbfaff"},
        {"type":1,"data":[0,16,32,16],"color":"#ffffffff"},
        {"type":1,"data":[32,16,32,16],"color":"#ffffffff"}
      ],
      [
        {},
        {},
        {},
        {}
      ]
    ],
    [
      [
        {"type":1,"data":[0,0,64,32],"color":"#65dcec"}
      ],
      [
        {},
        {},
        {},
        {}
      ]
    ],
    [
      [
        {"type":1,"data":[0,0,32,32],"color":"#60fbb3"},
        {"type":1,"data":[32,0,32,32],"color":"#60fbb3"}
      ],
      [
        {},
        {}
    ]
    ]
  ]
}

{
  "pages": 
  [
    [
      [
        {"type":1,"data":[0,0,32,16],"color":"#d1d1d1ff"},
        {"type":1,"data":[32,0,32,16],"color":"#d1d1d1ff"},
        {"type":1,"data":[0,16,32,16],"color":"#d1d1d1ff"},
        {"type":1,"data":[32,16,32,16],"color":"#d1d1d1ff"}
      ],
      [
        {"xy":[5,13],"id":2,"color":"#592ae6ff"},
        {},
        {},
        {}
      ]
    ]

  ]
}

{"pages":[[[{"type":1,"data":[0,0,32,16],"color":"rgba(209, 209, 209, 1)"},{"type":1,"data":[32,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[0,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,16,32,16],"color":"#d1d1d1ff"}],[[{"xy":[2,8],"id":0,"color":"#5d47ff"},{"xy":[2,24],"id":1,"color":"#5d47ff"},{"xy":[34,8],"id":2,"color":"#5d47ff"},{"xy":[34,24],"id":3,"color":"#5d47ff"},{"xy":[8,8],"id":4,"color":"#6147ff"}]]],[[],[]]]}


                else if (font == 2) { virtualDisp->drawLine(x+1, y, x+1, y+2, color); }

{"pages":[[[{"type":1,"data":[0,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[0,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,16,32,16],"color":"#d1d1d1ff"}],[[{"xy":[44,28],"id":0,"color":"#5d47ff"},{"xy":[12,28],"id":1,"color":"#5d47ff"},{"xy":[44,12],"id":2,"color":"#5d47ff"},{"xy":[12,12],"id":3,"color":"#6147ff"}]]],[[],[]]]}

{"pages":[[[{"type":1,"data":[0,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[0,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,16,32,16],"color":"#d1d1d1ff"}],[[{"xy":[48,28],"id":0,"color":"#5d47ff"},{"xy":[16,28],"id":1,"color":"#5d47ff"},{"xy":[48,12],"id":2,"color":"#5d47ff"},{"xy":[16,12],"id":3,"color":"#6147ff"}]]],[[],[]]]}

{"pages":[[[{"type":1,"data":[0,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[0,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[2,7,2,2],"color":"#ff0000"}],[[{"xy":[48,28],"id":0,"color":"#5d47ff"},{"xy":[16,28],"id":1,"color":"#5d47ff"},{"xy":[48,12],"id":2,"color":"#5d47ff"},{"xy":[16,12],"id":3,"color":"#6147ff"}]]],[[],[]]]}


{"pages":[[[{"type":1,"data":[0,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[0,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[0,7,1,1],"color":"#ff0000"},{"type":1,"data":[0,8,1,1],"color":"#ff0000"},{"type":1,"data":[0,9,1,1],"color":"#ff0000"},{"type":1,"data":[0,10,1,1],"color":"#ff0000"}],[[{"xy":[48,28],"id":0,"color":"#5d47ff"},{"xy":[16,28],"id":1,"color":"#5d47ff"},{"xy":[48,12],"id":2,"color":"#5d47ff"},{"xy":[16,12],"id":3,"color":"#6147ff"}]]],[[],[]]]}

#ff0000
#00ff00
#0000ff
#ffff00
#00ffff
#ff00ff
#ffffff
#ff7676ff
#6ff66fff
#6565f4ff
#f4f46cff
#6ff7f7ff
#f778f7ff
#ff8000ff
#efa255ff
#8c559bff
#a2a2a2ff
#3e8f9fff
#944f4fff






0xFF0000


{"pages":[[[{"type":1,"data":[0,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[0,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[2,7,1,1],"color":"#00ff00"},{"type":1,"data":[2,8,1,1],"color":"#00ff00"},{"type":1,"data":[2,9,1,1],"color":"#00ff00"},{"type":1,"data":[2,10,1,1],"color":"#00ff00"},{"type":1,"data":[34,7,1,1],"color":"#00ff00"},{"type":1,"data":[34,8,1,1],"color":"#00ff00"},{"type":1,"data":[34,9,1,1],"color":"#00ff00"},{"type":1,"data":[34,10,1,1],"color":"#00ff00"},{"type":1,"data":[34,24,1,1],"color":"#00ff00"},{"type":1,"data":[34,25,1,1],"color":"#00ff00"},{"type":1,"data":[34,26,1,1],"color":"#00ff00"},{"type":1,"data":[34,27,1,1],"color":"#00ff00"},{"type":1,"data":[2,24,1,1],"color":"#00ff00"},{"type":1,"data":[2,25,1,1],"color":"#00ff00"},{"type":1,"data":[2,26,1,1],"color":"#00ff00"},{"type":1,"data":[2,27,1,1],"color":"#00ff00"}],[[{"xy":[48,28],"id":0,"color":"#6565f4ff"},{"xy":[16,28],"id":1,"color":"#6565f4ff"},{"xy":[48,12],"id":2,"color":"#6565f4ff"},{"xy":[16,12],"id":3,"color":"#6565f4ff"}]]],[[],[]]]}


1 biến ảnh hưởng 4 chấm cho mỗi HÌNH

{
  "pages": 
  [
    [
      [
        {"type": 1, "data": [0, 0, 32, 16], "color": "#d1d1d1ff"},
        {"type": 1, "data": [32, 0, 32, 16], "color": "#d1d1d1ff"},
        {"type": 1, "data": [0, 16, 32, 16], "color": "#d1d1d1ff"},
        {"type": 1, "data": [32, 16, 32, 16], "color": "#d1d1d1ff"},
        {"type": 1, "data": [2, 7, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [2, 9, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [2, 8, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [2, 10, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [2, 24, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [2, 25, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [2, 26, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [2, 27, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [34, 7, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [34, 8, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [34, 9, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [34, 10, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [34, 24, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [34, 25, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [34, 26, 1, 1], "color": "#ff0000"},
        {"type": 1, "data": [34, 27, 1, 1], "color": "#ff0000"}
      ],
      [
        {"xy": [48, 28], "id": 0, "color": "#f4f46cff"},
        {"xy": [16, 28], "id": 1, "color": "#6ff66fff"},
        {"xy": [48, 12], "id": 2, "color": "#ff00ff"},
        {"xy": [16, 12], "id": 3, "color": "#3e8f9fff"}
      ],
      [1,2,3,4]
    ],
    [
      [],
      []
    ]
  ]
}
#c3c3c3ff

#ff8000ff

{
  {
    "cmd":"setFonts"
    "value":[""]
  }
 }


{"pages":[[[{"type":1,"data":[0,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[0,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[2,7,1,1],"color":"#00ff00"},{"type":1,"data":[34,7,1,1],"color":"#00ff00"},{"type":1,"data":[34,8,1,1],"color":"#00ff00"},{"type":1,"data":[34,9,1,1],"color":"#00ff00"},{"type":1,"data":[34,10,1,1],"color":"#00ff00"},{"type":1,"data":[2,24,1,1],"color":"#00ff00"},{"type":1,"data":[2,25,1,1],"color":"#00ff00"},{"type":1,"data":[2,26,1,1],"color":"#00ff00"},{"type":1,"data":[2,27,1,1],"color":"#00ff00"},{"type":1,"data":[34,24,1,1],"color":"#00ff00"},{"type":1,"data":[34,25,1,1],"color":"#00ff00"},{"type":1,"data":[34,26,1,1],"color":"#00ff00"},{"type":1,"data":[34,27,1,1],"color":"#00ff00"}],[[{"xy":[48,28],"id":0,"color":"#5d47ff"},{"xy":[16,28],"id":1,"color":"#5d47ff"},{"xy":[48,12],"id":2,"color":"#5d47ff"},{"xy":[16,12],"id":3,"color":"#6147ff"}]],[0,0,0,0]],[[{"type":1,"data":[0,0,32,16],"color":"#ff0000"},{"type":1,"data":[32,0,32,16],"color":"#ff0000"},{"type":1,"data":[0,16,32,16],"color":"#ff0000"},{"type":1,"data":[32,16,32,16],"color":"#ff0000"},{"type":1,"data":[10,10,40,10],"color":"#ff0000"}],[]]]}

{
  "pages": 
  [
    [
      [
        // Trang 1 - Lớp nền và các điểm xanh
        { "type": 1, "data": [0, 0, 32, 16], "color": "#d1d1d1ff" },
        { "type": 1, "data": [32, 0, 32, 16], "color": "#d1d1d1ff" },
        { "type": 1, "data": [0, 16, 32, 16], "color": "#d1d1d1ff" },
        { "type": 1, "data": [32, 16, 32, 16], "color": "#d1d1d1ff" },

        // Các điểm màu xanh (green markers)
        { "type": 1, "data": [2, 7, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [34, 7, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [34, 8, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [34, 9, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [34, 10, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [2, 24, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [2, 25, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [2, 26, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [2, 27, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [34, 24, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [34, 25, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [34, 26, 1, 1], "color": "#00ff00" },
        { "type": 1, "data": [34, 27, 1, 1], "color": "#00ff00" }
      ],
      [
        // Các điểm có ID - có thể là waypoint hoặc object
        { "xy": [48, 28], "id": 0, "color": "#5d47ff" },
        { "xy": [16, 28], "id": 1, "color": "#5d47ff" },
        { "xy": [48, 12], "id": 2, "color": "#5d47ff" },
        { "xy": [16, 12], "id": 3, "color": "#6147ff" }
      ],
      [0, 0, 0, 0]  // Có thể là thông tin metadata hoặc placeholder
    ],
    [
      [
        // Trang 2 - Hình chữ nhật đỏ và thanh chắn ngang
        { "type": 1, "data": [0, 0, 32, 16], "color": "#ff0000" },
        { "type": 1, "data": [32, 0, 32, 16], "color": "#ff0000" },
        { "type": 1, "data": [0, 16, 32, 16], "color": "#ff0000" },
        { "type": 1, "data": [32, 16, 32, 16], "color": "#ff0000" },
        { "type": 1, "data": [10, 10, 40, 10], "color": "#ff0000" }
      ],
      []
    ]
  ]
}

function updateAllStatus() {
    
    let status1 = document.getElementById('status1').value;
    let status2 = document.getElementById('status2').value;
    let status3 = document.getElementById('status3').value;
    let status4 = document.getElementById('status4').value;
    let statusInfo = [status1, status2, status3, status4].map(Number);
    console.log("Status info:", statusInfo);
    for (let i = 0; i < 4; i++) {
        updateStatus(i + 1, statusInfo[i], currentPageIdx);
    }
    console.log("Current page index:", currentPageIdx);


  {
    "pages": 
    [
      [
        [ 
          { "type": 1, "data": [0, 0, 32, 16], "color": "#d1d1d1ff" },
          { "type": 1, "data": [32, 0, 32, 16], "color": "#d1d1d1ff" },
          { "type": 1, "data": [0, 16, 32, 16], "color": "#d1d1d1ff" },
          { "type": 1, "data": [32, 16, 32, 16], "color": "#d1d1d1ff" },

          // Các điểm màu xanh lá
          { "type": 1, "data": [2, 7, 1, 1], "color": "#00ff00" },
          { "type": 1, "data": [34, 7, 1, 1], "color": "#00ff00" },
          { "type": 1, "data": [34, 8, 1, 1], "color": "#00ff00" },
          { "type": 1, "data": [34, 9, 1, 1], "color": "#00ff00" },
          { "type": 1, "data": [34, 10, 1, 1], "color": "#00ff00" },

          { "type": 1, "data": [2, 24, 1, 1], "color": "#00ff00" },
          { "type": 1, "data": [2, 25, 1, 1], "color": "#00ff00" },
          { "type": 1, "data": [2, 26, 1, 1], "color": "#00ff00" },
          { "type": 1, "data": [2, 27, 1, 1], "color": "#00ff00" },

          { "type": 1, "data": [34, 24, 1, 1], "color": "#00ff00" },
          { "type": 1, "data": [34, 25, 1, 1], "color": "#00ff00" },
          { "type": 1, "data": [34, 26, 1, 1], "color": "#00ff00" },
          { "type": 1, "data": [34, 27, 1, 1], "color": "#00ff00" }
        ],
        [
          { "xy": [48, 28], "id": 0, "color": "#5d47ff" },
          { "xy": [16, 28], "id": 1, "color": "#5d47ff" },
          { "xy": [48, 12], "id": 2, "color": "#5d47ff" },
          { "xy": [16, 12], "id": 3, "color": "#6147ff" }
        ],
        [0, 0, 0, 0]
      ],
      [
        [
          { "type": 1, "data": [0, 0, 32, 16], "color": "#ff0000" },
          { "type": 1, "data": [32, 0, 32, 16], "color": "#ff0000" },
          { "type": 1, "data": [0, 16, 32, 16], "color": "#ff0000" },
          { "type": 1, "data": [32, 16, 32, 16], "color": "#ff0000" }
        ],
        []
      ]
    ]
  }

  {"pages":[[[{"type":1,"data":[0,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,0,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[0,16,32,16],"color":"#d1d1d1ff"},{"type":1,"data":[32,16,32,16],"color":"#d1d1d1ff"}],[[{"xy":[48,28],"id":0,"color":"#5d47ff"},{"xy":[16,28],"id":1,"color":"#5d47ff"},{"xy":[48,12],"id":2,"color":"#5d47ff"},{"xy":[16,12],"id":3,"color":"#6147ff"}]],[6,17,18,0,99]],[[],[]]]}
  